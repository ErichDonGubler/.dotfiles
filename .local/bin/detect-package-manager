#!/bin/sh

SUPPORTED_PACKAGE_MANAGERS="pacman '-S' apt-get 'install'"

__detect_package_manager() {
	tried=""
	while [ $# -ne 0 ]; do
		command="$1"
		args="$2"
		shift 2
		tried="$tried, $command"

		if command -v "$command" > /dev/null; then
			echo "$command $args"
			return 0
		fi
	done
	>&2 echo "No supported package manager detected (checked: ${tried#*, })..."
	return 1
}

__detect_package_manager $SUPPORTED_PACKAGE_MANAGERS
